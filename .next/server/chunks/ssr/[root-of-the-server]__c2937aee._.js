module.exports=[2734,(a,b,c)=>{b.exports=a.x("fs",()=>require("fs"))},8947,(a,b,c)=>{b.exports=a.x("stream",()=>require("stream"))},974,a=>{"use strict";var b=a.i(8324),c=a.i(9845),d=a.i(8449),e=a.i(1837),f=a.i(5405),g=a.i(8171),h=a.i(7669),i=a.i(7140),j=a.i(5290),k=a.i(8851),l=a.i(2620),m=a.i(1018);function n(){let a=(0,l.useRouter)(),[b,c]=(0,h.useState)("picklist"),[d,e]=(0,h.useState)("dev"),[f,n]=(0,h.useState)(null),[o,p]=(0,h.useState)(!1),[q,r]=(0,h.useState)(null),[s,t]=(0,h.useState)(null),[u,v]=(0,h.useState)([]),[w,x]=(0,h.useState)([]),[y,z]=(0,h.useState)(""),[A,B]=(0,h.useState)(""),[C,D]=(0,h.useState)(!0),[E,F]=(0,h.useState)(!0),[G,H]=(0,h.useState)("");(0,h.useEffect)(()=>{e("/prod"===a.asPath?"prod":"dev")},[a.asPath]),(0,h.useEffect)(()=>{(async()=>{try{let a=await fetch("/api/types"),b=await a.json();v(b.types||[])}finally{D(!1)}})()},[]),(0,h.useEffect)(()=>{(async()=>{try{let a=await fetch("/api/languages"),b=await a.json();x(b.languages||[])}finally{F(!1)}})()},[]),(0,h.useEffect)(()=>{n(null),r(null),t(null)},[b]);let I=a=>{a.target.files?.[0]&&(n(a.target.files[0]),r(null))},J=async()=>{if(!f||!y||!A)return void r("All fields are required.");let a=new FormData;a.append("file",f),a.append("environment",d),a.append("type",y),a.append("language",A),p(!0);try{let b=await fetch("/api/uploadpicklist",{method:"POST",body:a}),c=await b.json();b.ok?t(c):r(c.message)}finally{p(!1)}},K=async()=>{if(!f||!G)return void r("File and type are required.");let a=new FormData;a.append("file",f),a.append("environment",d),a.append("type",G),p(!0);try{let b=await fetch("/api/uploadheaderfooter",{method:"POST",body:a}),c=await b.json();b.ok?t(c):r(c.message)}finally{p(!1)}},L=()=>(0,g.jsxs)("label",{className:"border-2 border-dashed rounded-lg p-8 flex flex-col items-center cursor-pointer",children:[(0,g.jsx)(k.Upload,{size:32}),(0,g.jsx)("span",{className:"mt-2 text-sm",children:f?f.name:"Upload CSV"}),(0,g.jsx)("input",{type:"file",accept:".csv",hidden:!0,onChange:I})]}),M=()=>(0,g.jsxs)("select",{value:d,onChange:a=>e(a.target.value),className:"border p-2 rounded bg-gray-500",children:[(0,g.jsx)("option",{value:"dev",children:"Development"}),(0,g.jsx)("option",{value:"prod",children:"Production"})]});return(0,g.jsxs)("div",{className:"p-6 max-w-5xl mx-auto rounded-xl shadow",children:[(0,g.jsx)("div",{className:"flex border-b mb-6 bg-white rounded",children:[["picklist","Picklist Upload"],["headerFooter","Header / Footer Upload"],["export","Export"]].map(([a,d])=>(0,g.jsx)("button",{onClick:()=>c(a),className:`px-4 py-2 border-b-2 ${b===a?"border-blue-600 text-blue-600":"border-transparent text-gray-500"}`,children:d},a))}),"picklist"===b&&(0,g.jsxs)("div",{className:"space-y-6 bg-gray-500 rounded p-4",children:[(0,g.jsx)(L,{}),(0,g.jsxs)("div",{className:"grid grid-cols-4 gap-4",children:[(0,g.jsx)(M,{}),(0,g.jsxs)("select",{value:y,onChange:a=>z(a.target.value),className:"border p-2 rounded bg-gray-500",disabled:C,children:[(0,g.jsx)("option",{value:"",children:"File Type"}),u.map(a=>(0,g.jsx)("option",{value:a.codename,children:a.name},a.codename))]}),(0,g.jsxs)("select",{value:A,onChange:a=>B(a.target.value),className:"border p-2 rounded bg-gray-500",disabled:E,children:[(0,g.jsx)("option",{value:"",children:"Language"}),w.map(a=>(0,g.jsx)("option",{value:a.codename,children:a.name},a.codename))]})]}),(0,g.jsx)("button",{onClick:J,disabled:o,className:"bg-orange-500 text-white px-4 py-2 rounded",children:"Upload Picklist"})]}),"headerFooter"===b&&(0,g.jsxs)("div",{className:"space-y-6 bg-gray-500 rounded p-4",children:[(0,g.jsx)(L,{}),(0,g.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,g.jsx)(M,{}),(0,g.jsxs)("select",{value:G,onChange:a=>H(a.target.value),className:"border p-2 rounded bg-gray-500",children:[(0,g.jsx)("option",{value:"",children:"Type"}),(0,g.jsx)("option",{value:"email",children:"Email"}),(0,g.jsx)("option",{value:"web",children:"Web"})]})]}),(0,g.jsx)("button",{onClick:K,className:"bg-orange-500 text-white px-4 py-2 rounded",children:"Upload Header / Footer"})]}),"export"===b&&(0,g.jsxs)("div",{className:"space-y-6 bg-gray-500 rounded p-4",children:[(0,g.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,g.jsx)(M,{}),(0,g.jsxs)("select",{value:y,onChange:a=>z(a.target.value),className:"border p-2 rounded bg-gray-500",children:[(0,g.jsx)("option",{value:"",children:"File Type"}),u.map(a=>(0,g.jsx)("option",{value:a.codename,children:a.name},a.codename))]})]}),(0,g.jsxs)("div",{className:"text-sm text-gray-300 mb-2 flex gap-4 items-center",children:[(0,g.jsx)(m.ExportButton,{environment:d,systemType:y,disabled:!y})," * Exported file will be in CSV format with UTF-8 encoding."]})]}),q&&(0,g.jsxs)("div",{className:"mt-4 flex items-center text-red-600",children:[(0,g.jsx)(i.AlertCircle,{size:18,className:"mr-2"})," ",q]}),s&&(0,g.jsxs)("div",{className:"mt-6 text-green-700",children:[(0,g.jsx)(j.CheckCircle,{className:"inline mr-2"}),s.message]})]})}a.s(["default",()=>n],9857);var o=a.i(9857),p=a.i(721);let q=(0,d.hoist)(o,"default"),r=(0,d.hoist)(o,"getStaticProps"),s=(0,d.hoist)(o,"getStaticPaths"),t=(0,d.hoist)(o,"getServerSideProps"),u=(0,d.hoist)(o,"config"),v=(0,d.hoist)(o,"reportWebVitals"),w=(0,d.hoist)(o,"unstable_getStaticProps"),x=(0,d.hoist)(o,"unstable_getStaticPaths"),y=(0,d.hoist)(o,"unstable_getStaticParams"),z=(0,d.hoist)(o,"unstable_getServerProps"),A=(0,d.hoist)(o,"unstable_getServerSideProps"),B=new b.PagesRouteModule({definition:{kind:c.RouteKind.PAGES,page:"/bulkuploader",pathname:"/bulkuploader",bundlePath:"",filename:""},distDir:".next",relativeProjectDir:"",components:{App:f.default,Document:e.default},userland:o}),C=(0,p.getHandler)({srcPage:"/bulkuploader",config:u,userland:o,routeModule:B,getStaticPaths:s,getStaticProps:r,getServerSideProps:t});a.s(["config",0,u,"default",0,q,"getServerSideProps",0,t,"getStaticPaths",0,s,"getStaticProps",0,r,"handler",0,C,"reportWebVitals",0,v,"routeModule",0,B,"unstable_getServerProps",0,z,"unstable_getServerSideProps",0,A,"unstable_getStaticParams",0,y,"unstable_getStaticPaths",0,x,"unstable_getStaticProps",0,w],974)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__c2937aee._.js.map